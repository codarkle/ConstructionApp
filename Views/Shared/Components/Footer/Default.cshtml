@model ConstructionApp.ViewModels.AlarmViewModel;

<div class="modal fade" id="alarmModal" tabindex="-1" aria-labelledby="alarmModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
    <div class="modal-content" style="min-height:400px;">
      <div class="modal-header">
        <h5 class="modal-title">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#8B7DBE"><path d="M80-560q0-100 44.5-183.5T244-882l47 64q-60 44-95.5 111T160-560H80Zm720 0q0-80-35.5-147T669-818l47-64q75 55 119.5 138.5T880-560h-80ZM160-200v-80h80v-280q0-83 50-147.5T420-792v-28q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v28q80 20 130 84.5T720-560v280h80v80H160Zm320-300Zm0 420q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-280h320v-280q0-66-47-113t-113-47q-66 0-113 47t-47 113v280Z" /></svg>
            Scadenze ATTIVE
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <div class="row">
            <!-- Left Sidebar -->
            <div class="col-lg-4 border-end">
                <div id="alarmSidebar">
                    @foreach (var alarm in Model.AlarmHeader)
                    {
                        <button class="list-group-item list-group-item-action m-1" data-topic="@alarm.Value">
                            <img src="/images/notification/@(alarm.Value).svg" />
                            @alarm.Text
                        </button>
                    } 
                </div>
            </div>
            <!-- Right Table -->
            <div class="col-lg-8 mb-4">
                <table id="alarmTable" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Id</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Scadenza</th> 
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filled dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
   
<footer class="text-center text-light" style="background-color: #1c1c1e;">
    <div class="container text-center">
        <div class="row">
            <!-- Upcoming Deadlines -->
            <div class="col-sm-4 mx-auto mt-3">
                <h6 class="text-uppercase fw-bold text-center m-0"> <i class="bi bi-bell"></i> Deadline Alarm  (@Model.totalCount.ToString())</h6>
                <hr class="m-2" style="background-color: #7c4dff; height: 2px;" />
                <p>
                    @foreach (var alarm in Model.AlarmHeader)
                    {
                        <button class="alarm-button" onclick="showAlarm('@alarm.Value')">
                            📅 @alarm.Text
                        </button>
                    }
                </p>
            </div>

            <!-- Logo and Description -->
            <div class="col-sm-4 mx-auto mt-3">
                <a href="#" class="d-flex align-items-center justify-content-center text-light text-decoration-none">
                    <img src="/images/builder.svg" alt="ConstructionApp Logo" width="32" height="32" class="me-2">
                    <h6 class="text-uppercase fw-bold m-0">ConstructionApp</h6>
                </a>
                <hr class="m-2" style="background-color: #7c4dff; height: 2px;" />
                <p class="text-center small">
                    This application is for construction site management.
                </p>
            </div>

            <!-- Contacts -->
            <div class="col-sm-4 mx-auto mt-3">
                <h6 class="text-uppercase fw-bold text-center m-0">Contact</h6>
                <hr class="m-2" style="background-color: #7c4dff; height: 2px;" />
                <p class="text-center"><i class="fas fa-home me-2"></i> Napoli, NA 80131, IT</p>
                <p class="text-center"><i class="fas fa-envelope me-2"></i> info@Manager.cloud</p>
                <p class="text-center"><i class="fas fa-phone me-2"></i> +39 338 69 61 805</p>
                <p class="text-center"><i class="fas fa-print me-2"></i> +39 081 175 36 558</p>
            </div>
        </div>
    </div>

    <!-- Copyright -->
    <div class="text-center p-2" style="background-color: #121212;">
        © 2025 Copyright:
        <a class="text-light" href="Home/Privacy">Privacy</a>
    </div>
</footer>
